<!DOCTYPE html>
<html lang="da">
<head>
  <meta charset="UTF-8">
  <title>Ordjagt â€“ Morfemer</title>
  <style>
    body{font-family:sans-serif;background:#f7f7fb;margin:0;padding:20px;}
    .bank{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:12px;}
    .chip{padding:8px 12px;border:1px solid #ddd;border-radius:999px;background:#fff;cursor:pointer;}
    .chip.active{outline:2px solid #2563eb;}
    #currentWord{font-weight:bold;}
    .found{margin-top:12px;display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:6px;}
    .found div{background:#eef2ff;padding:6px;border-radius:6px;text-align:center;}
  </style>
</head>
<body>
  <h1>ðŸ§© Ordjagt â€“ Morfemer</h1>
  <p>Byg ord af morfemerne herunder. Facitlisten er skjult.</p>

  <h3>Forstavelser</h3>
  <div id="bank-prefix" class="bank"></div>

  <h3>Rod</h3>
  <div id="bank-root" class="bank"></div>

  <h3>Bindeled</h3>
  <div id="bank-link" class="bank"></div>

  <h3>Afledninger</h3>
  <div id="bank-suf" class="bank"></div>

  <p>Dit ord: <span id="currentWord">â€”</span></p>
  <button onclick="submitWord()">Tjek ord âœ…</button>
  <button onclick="clearWord()">Nulstil âœ–</button>

  <div class="found" id="found"></div>

<script>
const prefix = ["u-","for-","mis-","gen-","be-"];
const roots  = ["lÃ¦s","skriv","bog","stav","lÃ¦r","skole"];
const links  = ["e","s"];
const sufs   = ["-er","-ning","-lig","-hed","-skab"];

let selected = {prefix:null,root:null,link:null,suf:null};
let foundSet = new Set();

function renderBank(arr, targetId, type){
  const target = document.getElementById(targetId);
  target.innerHTML = "";
  arr.forEach(m=>{
    const b=document.createElement("div");
    b.className="chip";
    b.textContent=m;
    b.onclick=()=>{
      if(selected[type]===m){selected[type]=null;b.classList.remove("active");}
      else{selected[type]=m;[...target.children].forEach(c=>c.classList.remove("active"));b.classList.add("active");}
      updateWord();
    };
    target.appendChild(b);
  });
}
function updateWord(){
  const w=(selected.prefix||"")+(selected.root||"")+(selected.link||"")+(selected.suf||"");
  document.getElementById("currentWord").textContent=w||"â€”";
}
function submitWord(){
  const w=(selected.prefix||"")+(selected.root||"")+(selected.link||"")+(selected.suf||"");
  if(!w||w.length<3||foundSet.has(w))return;
  foundSet.add(w);
  const d=document.createElement("div");d.textContent=w;
  document.getElementById("found").appendChild(d);
  clearWord();
}
function clearWord(){
  selected={prefix:null,root:null,link:null,suf:null};
  ["bank-prefix","bank-root","bank-link","bank-suf"].forEach(id=>{
    [...document.getElementById(id).children].forEach(c=>c.classList.remove("active"));
  });
  updateWord();
}

// init
renderBank(prefix,"bank-prefix","prefix");
renderBank(roots,"bank-root","root");
renderBank(links,"bank-link","link");
renderBank(sufs,"bank-suf","suf");
updateWord();
</script>
</body>
</html>

